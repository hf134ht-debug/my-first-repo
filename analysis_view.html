<!DOCTYPE html>
<html lang="ja">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI分析</title>
  <link rel="stylesheet" href="/my-first-repo/css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>

<script src="/my-first-repo/js/analysis.js?v=999999"></script>  
<body>

<div class="analysis-container">

  <!-- タイトル -->
  <div class="analysis-title-area">
    <h1 class="analysis-title">AI分析</h1>
    <span class="analysis-badge">AI powered</span>
  </div>

  <!-- 4つの大きいタブカード -->
  <div class="analysis-mode-tabs">

    <div class="analysis-mode-card mode-alloc" data-mode="alloc">
      <i class="bi bi-shop card-icon"></i>
      <div class="mode-main">店舗配分最適化</div>
      <div class="mode-sub">Optimal Allocation</div>
    </div>

    <div class="analysis-mode-card mode-reverse" data-mode="reverse">
      <i class="bi bi-bullseye card-icon"></i>
      <div class="mode-main">目標販売量リバースエンジン</div>
      <div class="mode-sub">Target Reverse Engine</div>
    </div>

    <div class="analysis-mode-card mode-price" data-mode="price">
      <i class="bi bi-cash-coin card-icon"></i>
      <div class="mode-main">最適価格シミュレーション</div>
      <div class="mode-sub">Price Simulation</div>
    </div>

    <div class="analysis-mode-card mode-forecast" data-mode="forecast">
      <i class="bi bi-graph-up-arrow card-icon"></i>
      <div class="mode-main">需要予測</div>
      <div class="mode-sub">Demand Forecast</div>
    </div>

  </div>


  <!-- ======================== ページ① 店舗配分最適化 ======================== -->
  <section id="analysisPage-alloc" class="analysis-page active">
    <h2 class="analysis-section-title">
      <i class="bi bi-shop section-icon"></i> 店舗配分最適化
    </h2>

    <div class="analysis-input-area">

      <label>品目</label>
      <select id="allocItem" class="analysis-input"></select>

      <label>出荷予定数</label>
      <input id="allocQuantity" type="number" class="analysis-input" placeholder="例：30">

      <label>価格（円）</label>
      <input id="allocPrice" type="number" class="analysis-input" placeholder="例：150">

      <label>規格（プリセット or 手入力）</label>
      <div class="spec-input-wrapper">
        <select id="allocSpecPreset" class="analysis-input spec-select"></select>
        <input id="allocSpecCustom" type="text" class="analysis-input spec-input" placeholder="自由入力">
      </div>

    </div> <!-- ←★ 閉じタグ 修正済み -->

    <div class="store-button-area" id="allocStoreButtons"></div>

    <div class="analysis-result-card" id="allocResult">
      <p class="analysis-placeholder">ここに配分結果が表示されます</p>
    </div>
  </section>


  <!-- ======================== ページ② 目標販売量リバースエンジン ======================== -->
  <section id="analysisPage-reverse" class="analysis-page">
    <h2 class="analysis-section-title">
      <i class="bi bi-bullseye section-icon"></i> 目標販売量リバースエンジン
    </h2>

    <div class="analysis-input-area">

      <label>品目</label>
      <select id="revItem" class="analysis-input"></select>

      <label>目標販売数</label>
      <input id="revTarget" type="number" class="analysis-input" placeholder="例：20">

      <label>規格（プリセット or 手入力）</label>
      <div class="spec-input-wrapper">
        <select id="revSpecPreset" class="analysis-input spec-select"></select>
        <input id="revSpecCustom" type="text" class="analysis-input spec-input" placeholder="自由入力">
      </div>

    </div> <!-- ←★ 閉じタグ 修正済み -->

    <div class="store-button-area" id="revStoreButtons"></div>

    <div class="analysis-result-card" id="revResult">
      <p class="analysis-placeholder">ここにAI逆算結果が表示されます</p>
    </div>
  </section>


  <!-- ======================== ページ③ 最適価格シミュレーション ======================== -->
  <section id="analysisPage-price" class="analysis-page">
    <h2 class="analysis-section-title">
      <i class="bi bi-cash-coin section-icon"></i> 最適価格シミュレーション
    </h2>

    <div class="analysis-input-area">

      <label>品目</label>
      <select id="simItem" class="analysis-input"></select>

      <label>規格（プリセット or 手入力）</label>
      <div class="spec-input-wrapper">
        <select id="simSpecPreset" class="analysis-input spec-select"></select>
        <input id="simSpecCustom" type="text" class="analysis-input spec-input" placeholder="自由入力">
      </div>

      <label>価格（78〜500円）</label>
      <input id="simPrice" type="range" min="78" max="500" value="120" class="analysis-slider">
      <div id="simPriceLabel">現在の価格：120円</div>

    </div> <!-- ←★ 閉じタグ 修正済み -->

    <div class="analysis-result-card" id="simResult">
      <p class="analysis-placeholder">価格を動かすと結果が表示されます</p>
    </div>
  </section>


  <!-- ======================== ページ④ 需要予測 ======================== -->
  <section id="analysisPage-forecast" class="analysis-page">
    <h2 class="analysis-section-title">
      <i class="bi bi-graph-up-arrow section-icon"></i> 需要予測
    </h2>

    <div id="forecastChart" class="analysis-chart"></div>

    <div class="analysis-result-card" id="storeDemand">
      <p class="analysis-placeholder">店舗別需要強度が表示されます</p>
    </div>

    <div class="analysis-result-card" id="forecastComment">
      <p class="analysis-placeholder">AIコメントが表示されます</p>
    </div>
  </section>

</div>

</body>
</html>

