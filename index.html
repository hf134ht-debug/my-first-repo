<!DOCTYPE html>
<html lang="ja">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‡ºè·ç®¡ç† PWA</title>

<style>
/* ğŸŸ¦ å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
body {
  margin: 0;
  padding: 0;
  font-family: "Helvetica", sans-serif;
  background: url('background.jpg') no-repeat center/cover;
}

/* ğŸŸ§ ç”»é¢åˆ‡æ›¿ */
.screen { display: none; padding-bottom: 80px; }
.active { display: block; }

/* ğŸŸ¡ æœ€åˆã®ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³ï¼ˆå¯æ„›ã„è–„è‰²ï¼‰ */
.category-button {
  background: #f6fbff;
  padding: 18px;
  font-size: 22px;
  border-radius: 15px;
  width: 85%;
  margin: 12px auto;
  border: none;
  display: block;
}
.category-button:hover {
  background: #dff3ff;
}

/* ğŸ”µ å“ç›®ãƒœã‚¿ãƒ³ï¼ˆåˆæœŸè‰²è–„ã‚ï¼‰ */
.item-button {
  padding: 15px;
  margin: 6px;
  border-radius: 12px;
  border: none;
  font-size: 20px;
  background: #f0f0f0;
}

/* ğŸ”µ å“ç›®é¸æŠæ™‚ã®è‰² */
.item-button[data-type="hakusai"].selected { background: #b6ffb6; }
.item-button[data-type="hakusai_cut"].selected { background: #d6ffd6; }
.item-button[data-type="cabbage"].selected { background: #8fffa0; }
.item-button[data-type="cabbage_cut"].selected { background: #b8ffc8; }
.item-button[data-type="corn"].selected {
  background: linear-gradient(to right, #fff8a0, #ffffff);
}

/* ğŸ”» ä¸‹ã‚¿ãƒ– */
.bottom-nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: white;
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  border-top: 2px solid #ddd;
  z-index: 9999;
}

/* ã‚¿ãƒ–ãƒœã‚¿ãƒ³ */
.bottom-nav button {
  background: #f4f4ff;
  border-radius: 18px;
  padding: 12px 0;
  font-size: 16px;
  border: none;
  width: 25%;
  text-align: center;
}

/* ãƒ•ã‚©ãƒ¼ãƒ è¦ç´  */
input, select {
  font-size: 20px;
  padding: 10px;
  width: 80%;
  margin-bottom: 12px;
}
</style>
</head>

<body>

<!-- ğŸŸ¢ æœ€åˆã®ç”»é¢ï¼ˆã‚«ãƒ†ã‚´ãƒªé¸æŠï¼‰ -->
<div id="home" class="screen active">
  <br><br>
  <button class="category-button" onclick="showScreen('shipment')">å‡ºè·</button>
  <button class="category-button" onclick="showScreen('inventory')">åœ¨åº«</button>
  <button class="category-button" onclick="showScreen('history')">å±¥æ­´</button>
  <button class="category-button" onclick="showScreen('settings')">è¨­å®š</button>
</div>

<!-- ğŸŸ¡ å‡ºè·ç”»é¢ -->
<div id="shipment" class="screen">
  <h2>å‡ºè·ç®¡ç†</h2>

  <!-- å“ç›®ãƒœã‚¿ãƒ³ -->
  <div>
    <button class="item-button" data-type="hakusai" onclick="selectItem(this)">ç™½èœ</button>
    <button class="item-button" data-type="hakusai_cut" onclick="selectItem(this)">ç™½èœã‚«ãƒƒãƒˆ</button>
    <button class="item-button" data-type="cabbage" onclick="selectItem(this)">ã‚­ãƒ£ãƒ™ãƒ„</button>
    <button class="item-button" data-type="cabbage_cut" onclick="selectItem(this)">ã‚­ãƒ£ãƒ™ãƒ„ã‚«ãƒƒãƒˆ</button>
    <button class="item-button" data-type="corn" onclick="selectItem(this)">ã¨ã†ã‚‚ã‚ã“ã—</button>
  </div>

  <br>

  <!-- å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
  <input type="date" id="date"><br>
  <input type="number" id="price" placeholder="å€¤æ®µ"><br>
  <input type="number" id="qty" placeholder="æ•°é‡"><br>
  <button onclick="sendData()">å‡ºè·è¨˜éŒ²</button>
</div>

<!-- ğŸŸ£ å±¥æ­´ç”»é¢ -->
<div id="history" class="screen">
  <h2>å±¥æ­´ç”»é¢ï¼ˆé–‹ç™ºä¸­ï¼‰</h2>
</div>

<!-- âš™ è¨­å®šç”»é¢ -->
<div id="settings" class="screen">
  <h2>è¨­å®š</h2>
</div>

<!-- ğŸ”» ä¸‹ã‚¿ãƒ– -->
<div class="bottom-nav">
  <button onclick="showScreen('home')">ãƒ›ãƒ¼ãƒ </button>
  <button onclick="showScreen('shipment')">å‡ºè·</button>
  <button onclick="showScreen('history')">å±¥æ­´</button>
  <button onclick="showScreen('settings')">è¨­å®š</button>
</div>

<script>
/* ğŸ“Œ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ›ãƒ¼ãƒ è¡¨ç¤º */
document.addEventListener("DOMContentLoaded", () => {
  showScreen("home");
});

/* ğŸ“Œ ç”»é¢åˆ‡æ›¿ */
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* ğŸ“Œ å“ç›®é¸æŠ */
function selectItem(btn) {
  document.querySelectorAll('.item-button').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
}

/* ğŸ“Œ ğŸ“¤ GASã¸é€ä¿¡ */
async function sendData() {
  const item = document.querySelector(".item-button.selected");
  if (!item) return alert("å“ç›®ã‚’é¸æŠã—ã¦ãã ã•ã„");

  const payload = {
    item: item.innerText,
    date: document.getElementById("date").value,
    price: document.getElementById("price").value,
    qty: document.getElementById("qty").value,
  };

  const url = "https://script.google.com/macros/s/AKfycbzK497D-jhTqBKZs07bpcU1-DC4y5jmZIpYhFlfK9MXuvOrhz2jGuGppSNqxSNvwsWdNg/exec";

  try {
    await fetch(url, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
    alert("é€ä¿¡ã—ã¾ã—ãŸï¼");
  } catch (e) {
    alert("é€šä¿¡ã‚¨ãƒ©ãƒ¼: " + e);
  }
}
</script>

</body>
</html>
